<!DOCTYPE html>
<html lang="en" xmlns:th="http://thymeleaf.org">

<div th:replace="admin/fragments/fragment :: cabecalho"></div>

<body class="sb-nav-fixed">

<div th:replace="admin/fragments/fragment :: navbar"></div>

<div id="layoutSidenav">

    <div th:replace="admin/fragments/fragment :: sidenav"></div>

    <div id="layoutSidenav_content">
        <main>
            <br>
            <meta name="viewport" content="width=device-width, initial-scale=1">
            <div class="container-sm">
                <div class="  ">
                    <div class="card mb-3">
                        <h3 class="card-header">Filtrar candidatos</h3>
                        <div class="card-body">
                            <form th:action="@{/filtro/buscarCargo}" method="get">
                                <div class="input-group">
                                    <select class="custom-select" th:name="idCargo">
                                        <option th:each="cargo : ${cargo.cargo}"
                                                th:value="${cargo.id}"
                                                th:text="${cargo.nome}"
                                                th:selected="(${cargo.id} == *{filtro.idCargo})"></option>
                                    </select>
                                    <div class="input-group-append">
                                        <button class="btn btn-outline-secondary" type="submit">Buscar</button>
                                    </div>
                                </div>
                            </form>
                            <br>
                            <form action="/filtro/buscar" method="post">
                                <fieldset>
                                    <div class="row">
                                        <div class="col">
                                            <label >Formação: </label>
                                            <select class="form-control" id="exampleSelect2" name="formacao">
                                                <option selected disabled value="">Selecione...</option>
                                                <option value="Ensino Medio Incompleto" th:selected="('Ensino Medio Incompleto' == *{filtro.formacao})">Ensino Médio Incompleto</option>
                                                <option value="Ensino Medio Completo" th:selected="('Ensino Medio Completo' == *{filtro.formacao})">Ensino Médio Completo</option>
                                                <option value="Ensino Superior Incompleto" th:selected="('Ensino Superior Incompleto' == *{filtro.formacao})">Ensino Superior Incompleto</option>
                                                <option value="Ensino Superior Completo" th:selected="('Ensino Superior Completo' == *{filtro.formacao})" >Ensino Superior Completo</option>
                                                <option value="Pos-graduacao Incompleta" th:selected="('Pos-graduacao Incompleta' == *{filtro.formacao})">Pós-graduação Incompleta</option>
                                                <option value="Pos-graduacao Completa" th:selected="('Pos-graduacao Completa' == *{filtro.formacao})">Pós-graduação Completa</option>
                                            </select>
                                        </div>
                                        <div class="col">
                                            <label >Endereço: </label>
                                            <select class="form-control" id="exampleSelect3" name="endereco">
                                                <option selected disabled value="">Selecione...</option>
                                                <option value="Campinas" th:selected="('Campinas' == *{filtro.endereco})">Campinas</option>
                                                <option value="Hortolandia" th:selected="('Hortolandia' == *{filtro.endereco})">Hortolândia</option>
                                                <option value="Sumare" th:selected="('Sumare' == *{filtro.endereco})">Sumaré</option>
                                                <option value="Valinhos" th:selected="('Valinhos' == *{filtro.endereco})">Valinhos</option>
                                                <option value="Vinhedo" th:selected="('Vinhedo' == *{filtro.endereco})">Vinhedo</option>
                                                <option value="Louveira" th:selected="('Louveira' == *{filtro.endereco})">Louveira</option>
                                                <option value="Monte-mor" th:selected="('Monte-mor' == *{filtro.endereco})">Monte-mor</option>
                                                <option value="Paulinia" th:selected="('Paulinia' == *{filtro.endereco})">Paulínia</option>
                                                <option value="Indaiatuba" th:selected="('Indaiatuba' == *{filtro.endereco})">Indaiatuba</option>
                                            </select>
                                        </div>
                                        <div class="col">
                                            <label >Categoria</label>
                                            <select class="form-control" id="exampleSelect4" name="categoria">
                                                <option selected disabled value="">Selecione...</option>
                                                <option value="CLT" th:selected="('CLT' == *{filtro.categoria})">CLT</option>
                                                <option value="ESTAGIO" th:selected="('ESTAGIO' == *{filtro.categoria})">ESTAGIO</option>
                                                <option value="JOVEMAPRENDIZ" th:selected="('JOVEMAPRENDIZ' == *{filtro.categoria})">JOVEM APRENDIZ</option>
                                                <option value="PCD" th:selected="('PCD' == *{filtro.categoria})">PCD</option>
                                                <option value="PJ" th:selected="('PJ' == *{filtro.categoria})">PCD</option>
                                            </select>
                                        </div>
                                    </div>
                                    <br>
                                    <div class="container">
                                        <div class="row">
                                            <div class="col-md-4 mb-4">
                                                <div class="form-group">
                                                    <label for="tecnologia">Tecnologias </label>
                                                    <select class="selectpicker" id="tecnologia" th:name="tecnologia" multiple>
                                                        <option th:each="tecnologia, itemStat : ${cargo.tecnologia}"
                                                                th:selected="${#lists.contains(filtro.tecnologia, tecnologia.id)}"
                                                                th:value="${tecnologia.id}"
                                                                th:utext="${tecnologia.nome}"></option>
                                                    </select>
                                                </div>
                                            </div>

                                            <div class="col-md-4 mb-4">
                                                <div class="form-group">
                                                    <label for="framework">Frameworks </label>
                                                    <select class="selectpicker" id="framework" th:name="framework" multiple>
                                                        <option th:each="framework, itemStat : ${cargo.framework}"
                                                                th:selected="${#lists.contains(filtro.framework, framework.id)}"
                                                                th:value="${framework.id}"
                                                                th:utext="${framework.nome}"></option>
                                                    </select>
                                                </div>
                                            </div>

                                            <div class="col-md-4 mb-4">
                                                <div class="form-group">
                                                    <label for="ferramenta">Ferramentas </label>
                                                    <select class="selectpicker" id="ferramenta" th:name="ferramenta" multiple>
                                                        <option th:each="ferramenta, itemStat : ${cargo.ferramenta}"
                                                                th:selected="${#lists.contains(filtro.ferramenta, ferramenta.id)}"
                                                                th:value="${ferramenta.id}"
                                                                th:utext="${ferramenta.nome}"></option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <input type="text" th:field="*{filtro.idCargo}" style="display: none">
                                    <button type="submit" class="btn btn-success">Filtrar</button>
                                </fieldset>
                            </form>
                        </div>
                    </div>
                    <br />
                    <div class="">
                        <div class="row">
                            <div class="col-lg-12">
                                <div class="page-header">
                                    <h1 id="tables"></h1>
                                </div>

                                <div class="bs-component">
                                    <table class="table table-hover">
                                        <thead>
                                        <tr>
                                            <th scope="col">Nome</th>
                                            <th scope="col">Idade</th>
                                            <th scope="col">Curso</th>
                                            <th scope="col">Categoria</th>
                                            <th scope="col">Cidade</th>
                                            <th scope="col">Cadastro</th>
                                            <th scope="col">Entrevista</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr th:each="cliente : ${cliente}">
                                            <th th:utext="${#strings.abbreviate(cliente.nomeCompleto,400)} "></th>
                                            <td th:utext="${#strings.abbreviate(cliente.idade,400)} "></td>
                                            <td th:utext="${#strings.abbreviate(cliente.curso,400)} "></td>
                                            <td th:utext="${#strings.abbreviate(cliente.categoria,400)} "></td>
                                            <td th:utext="${#strings.abbreviate(cliente.cidade,400)} "></td>
                                            <td> <a class="btn btn-info"
                                                    th:href="@{/filtro/buscarCandidato/{id}(id=${cliente.idCandidato})}"
                                                    role="button"
                                                    target="_blank">Mais
                                            </a></td>
                                            <td><a class="btn btn-info"
                                                   th:href="@{/entrevista/criar/{id}(id=${cliente.idCandidato})}"
                                                   role="button" >Agendar
                                            </a></td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
        <footer class="py-4 bg-light mt-auto">
            <div class="container-fluid">
                <div class="d-flex align-items-center justify-content-between small">
                    <div class="text-muted">Copyright &copy; Feito por Thiago Camargo 2020</div>
                    <div>
                        <a href="#">Privacy Policy</a>
                        &middot;
                        <a href="#">Terms &amp; Conditions</a>
                    </div>
                </div>
            </div>
        </footer>
    </div>
</div>
<script src="https://code.jquery.com/jquery-3.4.1.min.js" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
<script type="text/javascript" src="/js/scripts.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.js" crossorigin="anonymous"></script>
<script src="assets/demo/chart-area-demo.js"></script>
<script src="assets/demo/chart-bar-demo.js"></script>
<script src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js" crossorigin="anonymous"></script>
<script src="https://cdn.datatables.net/1.10.20/js/dataTables.bootstrap4.min.js" crossorigin="anonymous"></script>
<script src="/assets/demo/datatables-demo.js"></script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/js/bootstrap-select.min.js" type="text/javascript"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/js/i18n/defaults-*.min.js" type="text/javascript"></script>
</body>
</html>
